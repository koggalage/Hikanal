<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  </head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-6">
  <div id="map-canvas"></div>
        
      </div>
      <div class="col-md-6">
        
  <div id="map-canvas2"></div>
      </div>
    </div>
  </div>
</body>

<style>
#map-canvas2 {
    height: 100%;
    width: 80%;
    margin: 0px;
    padding: 50px
}
#map-canvas {
    height: 100%;
    width: 100%;
    margin: 0px;
    padding: 0px
}
</style>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDxJt45HSxnhUn26cibrRrQin578_9T-Yg"></script>

<script>
  
function initialize() {     
var myLatlng;    
var mapOptions;
myLatlng = new google.maps.LatLng(7.884472, 80.850632);
    mapOptions = {
      zoom: 8,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(
      document.getElementById("map-canvas"), mapOptions);
    google.maps.event.addListenerOnce(map, 'idle', function() {
      drawRectangle(map);
    });
    
    function drawRectangle(map) {

      var southWestLat = 7.45282838800632;
      var southWestLng = 80.7737578865776;
      var northEastLat = 8.13087938800633;
      var northEastLng = 81.8676373865776;

      var numberOfParts = 3;

      var tileWidth = (northEastLng - southWestLng) / numberOfParts;
      var tileHeight = (northEastLat - southWestLat) / numberOfParts;

      var southEastLat = [
          "6.096726388006320",
          "5.870709388006320",
          "5.870709388006320",
          "5.870709388006320",
          "6.096726388006320",
          "6.322743388006320",
          "9.351371188006320"
      ];

      var southEastLng = [
          "79.679878386577600",
          "80.044504886577600",
          "80.409131386577600",
          "80.773757886577600",
          "81.138384386577600",
          "81.503010886577600",
          "79.388177186577600" 
      ];

      var mapNumbers = ["85", "79", "73", "66", "59", "52", "46", "40", "34", "29", "24", "19", "15", "11", "07", "03", "01", "90", "86", "80", "74", "67", "60", "53", "47", "41", "35", "30", "25", "20", "16", "12", "08", "04", "02", "91", "87", "81", "75", "68", "61", "54", "48", "42", "36", "31", "26", "21", "17", "13", 
      "09", "05", "92", "88", "82", "76", "69", "62", "55", "49", "43", "37", "32", "27", "22", "18", "14", "10",  "89", "83", "77", "70", "63", "56", "50", "44", "38", "33", "28", "23", "84", "78", "51", "45", "39", "06"];

      //var lengthyMapNumbers = ["71-72", "64-65", "57-58"];

      var z;
      var t;
      var count = 0;
      //var countLengthy = 0;

      for (var x = 0; x < 7; x++) {

        if(x == 0 || x == 2) {
          numberOfBoxes = 17;
        }

        else if(x == 1) {
          numberOfBoxes = 18;
        }

        else if(x == 3) {
          numberOfBoxes = 16;
        }

        else if(x == 4) {
          numberOfBoxes = 12;
        }

        else if(x == 5) {
          numberOfBoxes = 8;
        }

        else if(x == 6) {
          numberOfBoxes = 1;
        }

       for (var y = 0; y < numberOfBoxes; y++ ) {

        if (x == 5 && (y == 2 || y == 3 || y == 4)) {
          drawLengthyRectangle(map);
        }

        else {

        var latCurrent = parseFloat(southEastLat[x]);
        if(x >0 && x != 6) {
           z = x-x;
        }

        else {
          z = x;
        }

        if(x == 6) {
           t = x - x;
        }

        else {
          t = x;
        }
        console.log("x", x);
        console.log("z", z);
        var lngCurrent = parseFloat(southEastLng[z]);

          var areaBounds = {
              north: latCurrent + (tileHeight * (y+1)),
              south: latCurrent + (tileHeight * y),
              east: lngCurrent + (tileWidth * (t+1)),
              west: lngCurrent + (tileWidth * t)
            };

          var area = new google.maps.Rectangle({
            strokeColor: '#FF0000',
            //strokeOpacity: 0.8,
            strokeWeight: 2,
            //fillColor: '#FF0000',
            //fillOpacity: 0.35,
            map: map,
            bounds: areaBounds
          });

          var centerMark = new google.maps.Marker({
          position: area.getBounds().getCenter(),
          map: map,
          area: areaBounds,
          title: "Map Number:" + mapNumbers[count]  + "\nLatlong:" + area.getBounds().getCenter().toUrlValue(6)
          });

          google.maps.event.addListener(centerMark, 'click', function(evt) {

            initMap(this.position.lat(), this.position.lng());
            // map.fitBounds(this.area);
            // google.maps.event.addListenerOnce(map, 'bounds_changed', function() {
            //   map.setZoom(map.getZoom()+1);
            // })
              
          });
          count++;
        }
        }
      }
    } 

    function drawLengthyRectangle(map) {

      var southWestLat = 6.77477738800632;
      var southWestLng = 81.5030108865776;
      var northEastLat = 7.00079438800632;
      var northEastLng = 81.8849571453276;

      var numberOfParts = 1;

      var tileWidth = (northEastLng - southWestLng) / numberOfParts;
      var tileHeight = (northEastLat - southWestLat) / numberOfParts;

      for (var x = 0; x < 1; x++) {
       for (var y = 0; y < 3; y++ ) {
          var areaBounds = {
              north: southWestLat + (tileHeight * (y+1)),
              south: southWestLat + (tileHeight * y),
              east: southWestLng + (tileWidth * (x+1)),
              west: southWestLng + (tileWidth * x)
            };

          var area = new google.maps.Rectangle({
            strokeColor: '#FF0000',
            //strokeOpacity: 0.8,
            strokeWeight: 2,
            //fillColor: '#FF0000',
            //fillOpacity: 0.35,
            map: map,
            bounds: areaBounds
          });

          var centerMark = new google.maps.Marker({
          position: area.getBounds().getCenter(),
          map: map,
          area: areaBounds,
          title: area.getBounds().getCenter().toUrlValue(6)
          });

          google.maps.event.addListener(centerMark, 'click', function(evt) {

            initMap(this.position.lat(), this.position.lng());
            // map.fitBounds(this.area);
            // google.maps.event.addListenerOnce(map, 'bounds_changed', function() {
            //   map.setZoom(map.getZoom()+1);
            // })
              
          });
        }
       }
      }    
  }
      var rectangle;
      var map;
      var infoWindow;
      // var centerLat = 7.734472;
      // var centerLng = 80.850632;
      function initMap(centerLat, centerLng) {
        map = new google.maps.Map(document.getElementById('map-canvas'), {
          center: {lat: centerLat, lng: centerLng},
          zoom: 10
        });
        var bounds = {
          north: centerLat - 0.1,
          south: centerLat  - 0.2,
          east: centerLng  - 0.1,
          west: centerLng  - 0.2
        };
        // Define the rectangle and set its editable property to true.
        rectangle = new google.maps.Rectangle({
          bounds: bounds,
          editable: true,
          draggable: true
        });
        rectangle.setMap(map);
        // Add an event listener on the rectangle.
        // rectangle.addListener('bounds_changed', showNewRect);
        rectangle.addListener('bounds_changed', showSelectedArea);
        // rectangle.addListener('bounds_changed', function(e) {
        //     showSelectedArea(e.latLng, map);
        // });
        // Define an info window on the map.
        infoWindow = new google.maps.InfoWindow();
      }
      // Show the new coordinates for the rectangle in an info window.
      /** @this {google.maps.Rectangle} */
      function showNewRect(event) {
        var ne = rectangle.getBounds().getNorthEast();
        var sw = rectangle.getBounds().getSouthWest();
        var contentString = '<b>Rectangle moved.</b><br>' +
            'New north-east corner: ' + ne.lat() + ', ' + ne.lng() + '<br>' +
            'New south-west corner: ' + sw.lat() + ', ' + sw.lng();
        // Set the info window's content and position.
        infoWindow.setContent(contentString);
        infoWindow.setPosition(ne);
        infoWindow.open(map);
      }   
        function showSelectedArea(event) {
            var nEast = rectangle.getBounds().getNorthEast();
            var sWest = rectangle.getBounds().getSouthWest();
            
            var bounds = new google.maps.LatLngBounds(sWest,nEast);
            // bounds.extend(loc)
            map2 = new google.maps.Map(document.getElementById('map-canvas2'), {
                        // center: {lat: centerLat, lng: centerLng},
                        // zoom: 14
            });
            map2.fitBounds(bounds);
            // map2.setZoom(map2.getZoom()+1);
            // google.maps.event.addListenerOnce(map, 'bounds_changed', function() {
            //   map.setZoom(map.getZoom()+1);
            // })
      }
google.maps.event.addDomListener(window, "load", initialize); 
</script>


</html>